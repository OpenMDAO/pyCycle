import numpy as np

from pycycle.maps.map_data import MapData


"""Python version of axi-5.map Compressor map from NPSS"""
AXI5 = MapData()

# Map design point values
AXI5.defaults = {}
AXI5.defaults['alphaMap'] = 0.0
AXI5.defaults['NcMap'] = 1.00
AXI5.defaults['PRmap'] = 5.2000
AXI5.defaults['RlineMap'] = 2.000
AXI5.RlineStall = 1.0


AXI5.alphaMap = np.array([0.000, 90.000])
AXI5.NcMap = np.array([0.400, 0.500, 0.600, 0.700, 0.800,
                       0.900, 0.950, 1.000, 1.050, 1.100])
# , 4.8430, 5.1909, 5.5289, 5.8564, 6.1729, 6.4780, 6.7714, 7.0525, 7.3212])
AXI5.RlineMap = np.array(
    [1.000, 1.200, 1.400, 1.600, 1.800, 2.000, 2.200, 2.400, 2.600])

AXI5.WcMap = np.array([[[4.8430, 5.1909, 5.5289, 5.8564, 6.1729, 6.4780,
                         6.7714, 7.0525, 7.3212],
                        [6.8115, 7.1360, 7.4477, 7.7462, 8.03130,
                            8.30260, 8.56000, 8.80330, 9.03230],
                        [8.9765, 9.2855, 9.5780, 9.8535, 10.1121,
                            10.3536, 10.5781, 10.7855, 10.9760],
                        [11.0367, 11.4245, 11.7795, 12.1017, 12.3913,
                            12.6485, 12.8738, 13.0679, 13.2314],
                        [14.5914, 15.1491, 15.6401, 16.0650, 16.4249,
                            16.7213, 16.9563, 17.1322, 17.2515],
                        [20.0347, 21.0987, 21.9935, 22.7217, 23.2879,
                            23.6987, 23.9625, 24.0887, 24.1034],
                        [23.2785, 24.4288, 25.3829, 26.1447, 26.7207,
                            27.1196, 27.3519, 27.4292, 27.4293],
                        [28.6553, 29.0317, 29.3528, 29.6202, 29.8354,
                            30.0000, 30.1159, 30.1849, 30.2090],
                        [30.5418, 30.7022, 30.8417, 30.9606, 31.0595,
                            31.1387, 31.1988, 31.2402, 31.2635],
                        [31.4065, 31.4886, 31.5601, 31.6213, 31.6723, 31.7133,
                         31.7445, 31.7661, 31.7782]],
                       [[8.3219, 8.8244, 9.2916, 9.7228, 10.1172, 10.4747,
                         10.7951, 11.0786, 11.3257],
                        [12.7911, 13.2400, 13.6433, 14.0011, 14.3141,
                         14.5828, 14.8084, 14.9921, 15.1352],
                        [15.5913, 15.9958, 16.3567, 16.6745, 16.9499,
                           17.1837, 17.3772, 17.5315, 17.6479],
                        [17.6696, 18.2008, 18.6663, 19.0672, 19.4047,
                           19.6806, 19.8968, 20.0558, 20.1599],
                        [20.4281, 21.1455, 21.7595, 22.2721, 22.6860,
                           23.0045, 23.2319, 23.3726, 23.4316],
                        [23.2298, 24.3738, 25.3232, 26.0816, 26.6557,
                           27.0539, 27.2866, 27.3654, 27.3655],
                        [24.7860, 25.9617, 26.9293, 27.6936, 28.2621,
                           28.6444, 28.8521, 28.9012, 28.9012],
                        [28.6553, 29.0317, 29.3528, 29.6202, 29.8354,
                           30.0000, 30.1159, 30.1849, 30.2090],
                        [30.5418, 30.7022, 30.8417, 30.9606, 31.0595,
                           31.1387, 31.1988, 31.2402, 31.2635],
                        [31.4065, 31.4886, 31.5601, 31.6213, 31.6723,
                           31.7133, 31.7445, 31.7661, 31.7782],
                        ]])

AXI5.effMap = np.array([[[0.6673, 0.6982, 0.7210, 0.7340, 0.7349, 0.7208,
                          0.6849, 0.6177, 0.5090],
                         [0.7098, 0.7315, 0.7471, 0.7553, 0.7550,
                             0.7445, 0.7199, 0.6759, 0.6082],
                         [0.7399, 0.7577, 0.7704, 0.7771, 0.7770,
                             0.7690, 0.7502, 0.7172, 0.6673],
                         [0.7425, 0.7677, 0.7867, 0.7985, 0.8019,
                             0.7954, 0.7752, 0.7366, 0.6757],
                         [0.7489, 0.7833, 0.8103, 0.8287, 0.8372,
                             0.8338, 0.8141, 0.7722, 0.7033],
                         [0.7138, 0.7681, 0.8120, 0.8440, 0.8617,
                             0.8624, 0.8390, 0.7825, 0.6847],
                         [0.7111, 0.7667, 0.8116, 0.8443, 0.8626,
                             0.8638, 0.8408, 0.7849, 0.6883],
                         [0.8151, 0.8306, 0.8424, 0.8500, 0.8530,
                             0.8510, 0.8427, 0.8264, 0.8013],
                         [0.8267, 0.8319, 0.8353, 0.8370, 0.8368,
                             0.8346, 0.8299, 0.8222, 0.8113],
                         [0.8180, 0.8199, 0.8209, 0.8208, 0.8197, 0.8176,
                          0.8141, 0.8091, 0.8024]],
                        [[0.6837, 0.7226, 0.7527, 0.7724, 0.7792, 0.7704,
                          0.7386, 0.6742, 0.5669],
                         [0.7499, 0.7786, 0.8006, 0.8151, 0.8206,
                             0.8157, 0.7963, 0.7574, 0.6949],
                         [0.7858, 0.8079, 0.8249, 0.8358, 0.8401,
                             0.8366, 0.8228, 0.7956, 0.7528],
                         [0.7808, 0.8089, 0.8308, 0.8457, 0.8525,
                             0.8502, 0.8355, 0.8044, 0.7541],
                         [0.7666, 0.8027, 0.8312, 0.8513, 0.8616,
                             0.8606, 0.8441, 0.8070, 0.7456],
                         [0.7119, 0.7672, 0.8119, 0.8445, 0.8626,
                             0.8638, 0.8409, 0.7852, 0.6891],
                         [0.7053, 0.7608, 0.8056, 0.8381, 0.8561,
                             0.8570, 0.8339, 0.7781, 0.6822],
                         [0.8151, 0.8306, 0.8424, 0.8500, 0.8530,
                             0.8510, 0.8427, 0.8264, 0.8013],
                         [0.8267, 0.8319, 0.8353, 0.8370, 0.8368,
                             0.8346, 0.8299, 0.8222, 0.8113],
                         [0.8180, 0.8199, 0.8209, 0.8208, 0.8197, 0.8176,
                          0.8141, 0.8091, 0.8024]]])

AXI5.PRmap = np.array([[[1.2763, 1.2720, 1.2629, 1.2490, 1.2306, 1.2076,
                         1.1796, 1.1460, 1.1072],
                        [1.4620, 1.4520, 1.4364, 1.4152, 1.3888,
                            1.3573, 1.3201, 1.2766, 1.2274],
                        [1.7279, 1.7111, 1.6871, 1.6561, 1.6185,
                            1.5747, 1.5237, 1.4651, 1.3995],
                        [2.1250, 2.1062, 2.0723, 2.0239, 1.9616,
                            1.8865, 1.7973, 1.6934, 1.5771],
                        [2.8737, 2.8679, 2.8280, 2.7549, 2.6505,
                            2.5175, 2.3541, 2.1604, 1.9432],
                        [4.1211, 4.2350, 4.2502, 4.1658, 3.9861,
                            3.7202, 3.3667, 2.9333, 2.4492],
                        [4.8577, 5.0260, 5.0648, 4.9720, 4.7525,
                            4.4188, 3.9702, 3.4187, 2.8058],
                        [5.9603, 5.8925, 5.7804, 5.6258, 5.4313,
                            5.2000, 4.9289, 4.6166, 4.2701],
                        [6.2935, 6.1874, 6.0632, 5.9218, 5.7642,
                            5.5914, 5.4014, 5.1930, 4.9678],
                        [6.4390, 6.3324, 6.2162, 6.0908, 5.9568, 5.8145,
                         5.6627, 5.5004, 5.3284]],
                       [[1.7567, 1.7543, 1.7358, 1.7016, 1.6524, 1.5890,
                         1.5103, 1.4157, 1.3078],
                        [2.4783, 2.4610, 2.4214, 2.3602, 2.2787,
                            2.1784, 2.0579, 1.9167, 1.7585],
                        [2.9457, 2.9160, 2.8640, 2.7907, 2.6972,
                            2.5851, 2.4528, 2.2995, 2.1288],
                        [3.4221, 3.4045, 3.3514, 3.2639, 3.1441,
                            2.9945, 2.8132, 2.5998, 2.3609],
                        [4.0790, 4.0961, 4.0527, 3.9500, 3.7915,
                            3.5820, 3.3193, 3.0047, 2.6517],
                        [4.8443, 5.0097, 5.0468, 4.9535, 4.7350,
                            4.4035, 3.9581, 3.4109, 2.8024],
                        [5.2659, 5.4656, 5.5180, 5.4201, 5.1776,
                            4.8046, 4.3011, 3.6821, 2.9960],
                        [5.9603, 5.8925, 5.7804, 5.6258, 5.4313,
                            5.2000, 4.9289, 4.6166, 4.2701],
                        [6.2935, 6.1874, 6.0632, 5.9218, 5.7642,
                            5.5914, 5.4014, 5.1930, 4.9678],
                        [6.4390, 6.3324, 6.2162, 6.0908, 5.9568, 5.8145,
                         5.6627, 5.5004, 5.3284]]])


AXI5.units = {}
AXI5.units['NcMap'] = 'rpm'
AXI5.units['WcMap'] = 'lbm/s'

AXI5.Npts = AXI5.NcMap.size

# format for new regular grid interpolator:

AXI5.param_data = []
AXI5.output_data = []

AXI5.param_data.append({'name': 'alphaMap', 'values': AXI5.alphaMap,
                        'default': 0, 'units': None})
AXI5.param_data.append({'name': 'NcMap', 'values': AXI5.NcMap,
                        'default': 1.0, 'units': 'rpm'})
AXI5.param_data.append({'name': 'RlineMap', 'values': AXI5.RlineMap,
                        'default': 2.0, 'units': None})

AXI5.output_data.append({'name': 'WcMap', 'values': AXI5.WcMap,
                        'default': np.mean(AXI5.WcMap), 'units': 'lbm/s'})
AXI5.output_data.append({'name': 'effMap', 'values': AXI5.effMap,
                        'default': np.mean(AXI5.effMap), 'units': None})
AXI5.output_data.append({'name': 'PRmap', 'values': AXI5.PRmap,
                        'default': 5.2, 'units': None})
